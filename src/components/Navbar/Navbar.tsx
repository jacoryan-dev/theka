import { useEffect, useState } from "react";
import { Link, useLocation, useNavigate } from "react-router-dom";
import styles from "./Navbar.module.css";

export default function Navbar() {
  const [isMenuOpen, setIsMenuOpen] = useState(false);
  const location = useLocation();
  const navigate = useNavigate();

  const toggleMenu = () => {
    setIsMenuOpen(!isMenuOpen);
  };

  // Fecha o menu ao navegar e bloqueia o scroll do body quando aberto
  useEffect(() => {
    document.body.style.overflow = isMenuOpen ? "hidden" : "";

    const onKeyDown = (e: KeyboardEvent) => {
      if (e.key === "Escape") setIsMenuOpen(false);
    };
    if (isMenuOpen) {
      document.addEventListener("keydown", onKeyDown);
    }
    return () => {
      document.body.style.overflow = "";
      document.removeEventListener("keydown", onKeyDown);
    };
  }, [isMenuOpen]);

  const isActive = (path: string) => {
    return location.pathname === path;
  };

  const handleLogout = () => {
    setIsMenuOpen(false);
    // Limpar dados de autenticação se houver (localStorage, sessionStorage, etc.)
    // localStorage.removeItem('token');
    // sessionStorage.clear();

    // Redirecionar para a tela de login
    navigate("/");
  };

  return (
    <nav className={styles.navbar}>
      <div className={styles.container}>
        <div className={styles.navbarContent}>
          {/* Logo Desktop */}
          <Link to="/" className={styles.logoDesktop}>
            <svg
              width="72"
              height="72"
              viewBox="0 0 72 72"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g clipPath="url(#clip0_1126_2188)">
                <rect
                  width="72"
                  height="72"
                  rx="36"
                  fill="black"
                  fillOpacity="0.01"
                />
                <path
                  d="M118.823 -75C118.823 -75 141.61 -7.75258 99.6504 54.8027C111.594 87.8911 114.895 120.486 114.188 144.685C114.188 144.849 114.108 145.179 114.108 145.179H114.188L112.145 170.365L66.1768 162.875C66.1933 162.801 76.0649 118.73 60.5986 85.916C57.7699 87.8091 44.6469 89.7843 41.3467 90.0312C31.2892 90.8542 21.5459 89.1261 12.667 85.5869V161.312H-30V-67.0977H12.667V-28.4951C36.7898 -32.5281 63.3487 -14.7489 77.8066 9.20312C91.4558 -32.0465 79.0274 -66.9797 78.9854 -67.0977L118.823 -75ZM37.0801 -7.52441C16.1403 -7.52439 -0.834961 9.45081 -0.834961 30.3906V34.3047C-0.83474 55.2443 16.1404 72.2187 37.0801 72.2188C58.0198 72.2188 74.9949 55.2443 74.9951 34.3047V30.3906C74.9951 9.4508 58.0199 -7.52441 37.0801 -7.52441ZM18.874 15.9521C33.1749 8.46198 55.2552 32.5791 59.9697 50.1934C52.1121 53.1565 26.9679 49.617 18.7959 43.6084C11.2526 38.0937 6.93053 22.29 18.874 15.9521Z"
                  fill="#5a5a5aff"
                />
              </g>
              <defs>
                <clipPath id="clip0_1126_2188">
                  <rect width="72" height="72" rx="36" fill="white" />
                </clipPath>
              </defs>
            </svg>
          </Link>

          {/* Logo Mobile */}
          <Link to="/" className={styles.logoMobile}>
            <svg
              width="361"
              height="60"
              viewBox="0 0 361 60"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g clipPath="url(#clip0_537_3384)">
                <rect
                  y="3"
                  width="54"
                  height="54"
                  rx="27"
                  fill="black"
                  fillOpacity="0.01"
                />
                <path
                  d="M95.0186 -55C95.0186 -55 113.395 -3.42984 79.5566 44.542C89.1885 69.9165 91.8506 94.9122 91.2803 113.47C91.2803 113.596 91.2171 113.847 91.2168 113.849H91.2803L89.6328 133.163L52.5625 127.42C52.5625 127.42 60.5469 93.5866 48.0635 68.4014C45.7823 69.8531 35.1998 71.3682 32.5381 71.5576C24.427 72.1888 16.5688 70.8636 9.4082 68.1494V126.221H-25V-48.9404H9.4082V-19.3359C28.8621 -22.4289 50.2807 -8.79492 61.9404 9.57324C72.9664 -22.1134 62.8916 -48.9404 62.8916 -48.9404L95.0186 -55ZM29.0967 -3.25488C12.21 -3.2548 -1.47923 10.4346 -1.47949 27.3213C-1.47949 44.2082 12.2098 57.8984 29.0967 57.8984C45.9836 57.8984 59.6738 44.2082 59.6738 27.3213C59.6736 10.4346 45.9835 -3.25488 29.0967 -3.25488ZM14.415 14.749C25.9479 9.00539 43.7534 27.4991 47.5557 41.0068C41.2185 43.279 20.9417 40.5648 14.3516 35.957C8.26829 31.7279 4.78316 19.6093 14.415 14.749Z"
                  fill="#A3A3A2"
                />
              </g>
              <rect
                x="70"
                width="291"
                height="60"
                rx="30"
                fill="black"
                fillOpacity="0.01"
              />
              <g clipPath="url(#clip1_537_3384)">
                <path
                  d="M260.492 10L253.663 11.2882C253.663 11.2882 255.804 16.9909 253.46 23.7269C250.982 19.8222 246.429 16.9239 242.293 17.5813V11.2882H234.979V48.524H242.293V36.1791C243.815 36.7561 245.486 37.0379 247.21 36.9037C247.776 36.8635 250.025 36.5414 250.51 36.2328C253.164 41.5867 251.467 48.7789 251.467 48.7789L259.347 50L259.697 45.894H259.684C259.684 45.894 259.697 45.8403 259.697 45.8135C259.819 41.8685 259.253 36.5548 257.205 31.1607C264.399 20.9628 260.492 10 260.492 10ZM243.344 29.3358C242.051 28.4368 241.31 25.8604 243.357 24.8272C245.809 23.6062 249.594 27.5377 250.403 30.4093C249.056 30.8923 244.745 30.3153 243.344 29.3358Z"
                  fill="#A3A3A2"
                />
                <path
                  d="M180.704 11.2211V22.6535C199.913 8.12144 201.934 37.2258 198.903 50.0134L191.629 48.7924C192.451 43.8678 193.272 32.1268 190.295 28.5039C185.971 23.2305 180.691 30.5434 180.691 34.5019V48.7924H173.309V11.2211H180.691H180.704Z"
                  fill="#A3A3A2"
                />
                <path
                  d="M287.999 50L287.972 45.156L287.016 25.4847C286.962 24.5991 286.8 23.7135 286.45 22.895C285.318 20.265 283.338 19.6478 282.368 19.2586C277.99 17.4874 274.286 18.95 269.988 20.0369L271.632 26.1691C273.599 25.1761 273.962 25.0285 275.134 24.7065H275.175C277.465 24.0758 279.836 25.5116 280.267 27.8464C280.267 27.8598 280.267 27.8866 280.28 27.9C271.053 29.2687 258.242 33.7907 262.647 44.0154C265.651 51.0064 276.198 50.4026 280.199 44.5387C280.186 45.0084 280.186 45.4244 280.213 45.7867L280.159 48.7789L287.999 50ZM279.122 36.9171C273.154 50.0134 265.745 40.4864 277.775 35.0252C278.515 34.6763 279.297 34.4616 280.038 34.2469C279.836 35.1459 279.526 36.0315 279.122 36.9171Z"
                  fill="#A3A3A2"
                />
                <path
                  d="M171.747 12.8447V19.3794H161.913V48.7789H153.709C154.14 38.9165 154.868 29.2419 153.709 19.3794L142.986 19.3257V12.8447H171.733H171.747Z"
                  fill="#A3A3A2"
                />
                <path
                  d="M230.587 40.6743C228.391 42.2576 225.859 42.5797 225.859 42.5797C219.986 43.4519 211.391 44.3777 212.482 35.6692C215.648 36.5683 218.329 36.9708 220.605 36.9708C231.786 36.9708 232.729 27.4304 229.644 22.9487C224.094 14.8709 210.192 20.52 206.542 28.638L201.49 27.3231L202.325 33.2003L205.073 33.9785C204.925 35.1057 204.898 36.2865 204.966 37.5076C205.68 49.1815 222.154 51.3687 230.87 48.1214C231.369 47.9336 231.153 48.0275 231.328 47.9336C231.342 47.9336 231.705 47.7726 231.719 47.7591L233.537 46.8601L230.587 40.6743ZM218.571 26.3838C220.727 24.5052 224.579 23.0963 225.455 24.9078C225.697 25.4042 225.886 26.1154 225.064 27.2694C224.31 28.4368 221.67 30.0201 217.938 30.3824C216.726 30.5032 216.039 30.5032 214.692 30.3824C215.971 28.477 216.726 27.994 218.571 26.3838Z"
                  fill="#A3A3A2"
                />
              </g>
              <defs>
                <clipPath id="clip0_537_3384">
                  <rect y="3" width="54" height="54" rx="27" fill="white" />
                </clipPath>
                <clipPath id="clip1_537_3384">
                  <rect
                    width="145"
                    height="40"
                    fill="white"
                    transform="translate(143 10)"
                  />
                </clipPath>
              </defs>
            </svg>
          </Link>

          {/* Hamburger Menu (Mobile) */}
          <button
            className={styles.hamburger}
            onClick={toggleMenu}
            aria-label="Menu"
            aria-expanded={isMenuOpen}
            aria-controls="primary-navigation"
          >
            <span className={isMenuOpen ? styles.open : ""}></span>
            <span className={isMenuOpen ? styles.open : ""}></span>
            <span className={isMenuOpen ? styles.open : ""}></span>
          </button>

          {/* Navigation Links */}
          <div
            className={`${styles.navLinks} ${
              isMenuOpen ? styles.navLinksOpen : ""
            }`}
            id="primary-navigation"
            role="navigation"
            aria-label="Principal"
          >
            {/* SVG com todos os links de navegação */}
            <svg
              className={styles.navLinksSvg}
              width="959"
              height="62"
              viewBox="0 0 959 62"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <rect
                width="959"
                height="62"
                rx="31"
                fill="black"
                fillOpacity="0.01"
              />

              {/* Início */}
              <Link to="/" onClick={() => setIsMenuOpen(false)}>
                <path
                  d="M42.792 42V19.6H47.112V42H42.792ZM49.9303 42V26.128H53.6743L54.0263 28.752H54.0903C54.6023 27.8347 55.3063 27.1093 56.2023 26.576C57.0983 26.0213 58.1969 25.744 59.4983 25.744C60.8209 25.744 61.9409 26.032 62.8583 26.608C63.7756 27.1627 64.4689 27.984 64.9383 29.072C65.4289 30.16 65.6743 31.504 65.6743 33.104V42H61.3863V33.488C61.3863 32.1653 61.1196 31.152 60.5863 30.448C60.0529 29.744 59.1996 29.392 58.0263 29.392C57.3009 29.392 56.6503 29.5733 56.0743 29.936C55.5196 30.2773 55.0716 30.7787 54.7303 31.44C54.4103 32.08 54.2503 32.8693 54.2503 33.808V42H49.9303ZM68.1652 42V26.128H72.4852V42H68.1652ZM66.6932 24.752V21.584L73.9252 17.872H73.9892V21.296L66.6932 24.752ZM83.0848 42.384C81.4208 42.384 79.9594 42.032 78.7008 41.328C77.4634 40.6027 76.4928 39.6213 75.7888 38.384C75.0848 37.1253 74.7328 35.6853 74.7328 34.064C74.7328 32.4427 75.0848 31.0133 75.7888 29.776C76.5141 28.5173 77.5061 27.536 78.7648 26.832C80.0234 26.1067 81.4634 25.744 83.0848 25.744C85.1328 25.744 86.8608 26.2773 88.2688 27.344C89.6768 28.4107 90.5621 29.8827 90.9248 31.76H86.3488C86.1781 31.0133 85.7941 30.4373 85.1968 30.032C84.5994 29.6053 83.8848 29.392 83.0528 29.392C82.3061 29.392 81.6341 29.584 81.0368 29.968C80.4608 30.3307 80.0021 30.864 79.6608 31.568C79.3194 32.2507 79.1488 33.0827 79.1488 34.064C79.1488 34.7893 79.2448 35.44 79.4368 36.016C79.6288 36.5707 79.8954 37.0507 80.2368 37.456C80.5994 37.8613 81.0154 38.1707 81.4848 38.384C81.9541 38.5973 82.4768 38.704 83.0528 38.704C83.6074 38.704 84.1088 38.6187 84.5568 38.448C85.0048 38.256 85.3888 37.9893 85.7088 37.648C86.0288 37.2853 86.2421 36.8587 86.3488 36.368H90.9248C90.5621 38.2027 89.6768 39.664 88.2688 40.752C86.8608 41.84 85.1328 42.384 83.0848 42.384ZM93.4552 42V26.128H97.7752V42H93.4552ZM95.6312 23.984C94.8419 23.984 94.2019 23.7493 93.7112 23.28C93.2206 22.8107 92.9752 22.224 92.9752 21.52C92.9752 20.816 93.2206 20.24 93.7112 19.792C94.2019 19.3227 94.8419 19.088 95.6312 19.088C96.4206 19.088 97.0606 19.3227 97.5512 19.792C98.0632 20.24 98.3192 20.816 98.3192 21.52C98.3192 22.224 98.0632 22.8107 97.5512 23.28C97.0606 23.7493 96.4206 23.984 95.6312 23.984ZM108.488 42.384C106.952 42.384 105.565 42.032 104.328 41.328C103.09 40.624 102.109 39.6427 101.384 38.384C100.68 37.1253 100.328 35.6853 100.328 34.064C100.328 32.4213 100.69 30.9813 101.416 29.744C102.141 28.4853 103.122 27.504 104.36 26.8C105.597 26.096 106.973 25.744 108.488 25.744C110.024 25.744 111.41 26.096 112.648 26.8C113.885 27.504 114.856 28.4853 115.56 29.744C116.285 30.9813 116.648 32.4213 116.648 34.064C116.648 35.7067 116.285 37.1573 115.56 38.416C114.834 39.6533 113.853 40.624 112.616 41.328C111.4 42.032 110.024 42.384 108.488 42.384ZM108.488 38.704C109.17 38.704 109.789 38.5333 110.344 38.192C110.92 37.8507 111.378 37.3387 111.72 36.656C112.082 35.952 112.264 35.088 112.264 34.064C112.264 33.04 112.082 32.1867 111.72 31.504C111.378 30.8 110.93 30.2773 110.376 29.936C109.821 29.5947 109.202 29.424 108.52 29.424C107.837 29.424 107.208 29.5947 106.632 29.936C106.056 30.2773 105.597 30.8 105.256 31.504C104.914 32.1867 104.744 33.04 104.744 34.064C104.744 35.088 104.914 35.952 105.256 36.656C105.597 37.3387 106.045 37.8507 106.6 38.192C107.176 38.5333 107.805 38.704 108.488 38.704Z"
                  fill="#5A5A5A"
                  className={isActive("/") ? styles.activePath : ""}
                />
              </Link>

              {/* Acervo */}
              <Link to="/acervo" onClick={() => setIsMenuOpen(false)}>
                <path
                  d="M218.666 42L226.314 19.6H232.298L239.914 42H235.338L229.322 23.344H229.258L223.21 42H218.666ZM222.282 36.24L223.434 32.88H234.826L235.946 36.24H222.282ZM248.74 42.384C247.076 42.384 245.614 42.032 244.356 41.328C243.118 40.6027 242.148 39.6213 241.444 38.384C240.74 37.1253 240.388 35.6853 240.388 34.064C240.388 32.4427 240.74 31.0133 241.444 29.776C242.169 28.5173 243.161 27.536 244.42 26.832C245.678 26.1067 247.118 25.744 248.74 25.744C250.788 25.744 252.516 26.2773 253.924 27.344C255.332 28.4107 256.217 29.8827 256.58 31.76H252.004C251.833 31.0133 251.449 30.4373 250.852 30.032C250.254 29.6053 249.54 29.392 248.708 29.392C247.961 29.392 247.289 29.584 246.692 29.968C246.116 30.3307 245.657 30.864 245.316 31.568C244.974 32.2507 244.804 33.0827 244.804 34.064C244.804 34.7893 244.9 35.44 245.092 36.016C245.284 36.5707 245.55 37.0507 245.892 37.456C246.254 37.8613 246.67 38.1707 247.14 38.384C247.609 38.5973 248.132 38.704 248.708 38.704C249.262 38.704 249.764 38.6187 250.212 38.448C250.66 38.256 251.044 37.9893 251.364 37.648C251.684 37.2853 251.897 36.8587 252.004 36.368H256.58C256.217 38.2027 255.332 39.664 253.924 40.752C252.516 41.84 250.788 42.384 248.74 42.384ZM266.598 42.384C264.977 42.384 263.537 42.0427 262.278 41.36C261.041 40.6773 260.07 39.7173 259.366 38.48C258.662 37.2427 258.31 35.824 258.31 34.224C258.31 32.56 258.652 31.0987 259.334 29.84C260.038 28.56 261.009 27.5573 262.246 26.832C263.505 26.1067 264.966 25.744 266.63 25.744C268.209 25.744 269.596 26.0853 270.79 26.768C272.006 27.4507 272.945 28.3893 273.606 29.584C274.289 30.7573 274.63 32.0907 274.63 33.584C274.63 33.7973 274.63 34.0427 274.63 34.32C274.63 34.576 274.609 34.8427 274.566 35.12H261.382V32.464H270.246C270.182 31.4827 269.809 30.6933 269.126 30.096C268.465 29.4987 267.633 29.2 266.63 29.2C265.884 29.2 265.201 29.3707 264.582 29.712C263.964 30.032 263.473 30.5227 263.11 31.184C262.748 31.8453 262.566 32.688 262.566 33.712V34.64C262.566 35.5147 262.737 36.272 263.078 36.912C263.42 37.5307 263.889 38.0107 264.486 38.352C265.105 38.6933 265.798 38.864 266.566 38.864C267.356 38.864 268.017 38.6933 268.55 38.352C269.084 37.9893 269.489 37.5307 269.766 36.976H274.182C273.862 37.9787 273.35 38.896 272.646 39.728C271.942 40.5387 271.078 41.1893 270.054 41.68C269.03 42.1493 267.878 42.384 266.598 42.384ZM276.682 42V26.128H280.458L280.842 29.36H280.906C281.332 28.464 281.823 27.7493 282.378 27.216C282.954 26.6827 283.604 26.3093 284.33 26.096C285.055 25.8613 285.866 25.744 286.762 25.744V30.32H285.578C284.874 30.32 284.234 30.3947 283.658 30.544C283.103 30.6933 282.623 30.9493 282.218 31.312C281.834 31.6533 281.535 32.112 281.322 32.688C281.108 33.264 281.002 33.9787 281.002 34.832V42H276.682ZM292.326 42L286.854 26.128H291.398L295.238 38.544H295.334L299.174 26.128H303.654L298.214 42H292.326ZM312.113 42.384C310.577 42.384 309.19 42.032 307.953 41.328C306.715 40.624 305.734 39.6427 305.009 38.384C304.305 37.1253 303.953 35.6853 303.953 34.064C303.953 32.4213 304.315 30.9813 305.041 29.744C305.766 28.4853 306.747 27.504 307.985 26.8C309.222 26.096 310.598 25.744 312.113 25.744C313.649 25.744 315.035 26.096 316.273 26.8C317.51 27.504 318.481 28.4853 319.185 29.744C319.91 30.9813 320.273 32.4213 320.273 34.064C320.273 35.7067 319.91 37.1573 319.185 38.416C318.459 39.6533 317.478 40.624 316.241 41.328C315.025 42.032 313.649 42.384 312.113 42.384ZM312.113 38.704C312.795 38.704 313.414 38.5333 313.969 38.192C314.545 37.8507 315.003 37.3387 315.345 36.656C315.707 35.952 315.889 35.088 315.889 34.064C315.889 33.04 315.707 32.1867 315.345 31.504C315.003 30.8 314.555 30.2773 314.001 29.936C313.446 29.5947 312.827 29.424 312.145 29.424C311.462 29.424 310.833 29.5947 310.257 29.936C309.681 30.2773 309.222 30.8 308.881 31.504C308.539 32.1867 308.369 33.04 308.369 34.064C308.369 35.088 308.539 35.952 308.881 36.656C309.222 37.3387 309.67 37.8507 310.225 38.192C310.801 38.5333 311.43 38.704 312.113 38.704Z"
                  fill="#5A5A5A"
                  className={isActive("/acervo") ? styles.activePath : ""}
                />
              </Link>

              {/* Sobre nós */}
              <Link to="/sobre-nos" onClick={() => setIsMenuOpen(false)}>
                <path
                  d="M432.068 42.384C430.447 42.384 428.996 42.1067 427.716 41.552C426.457 40.9973 425.465 40.1867 424.74 39.12C424.015 38.0533 423.631 36.7627 423.588 35.248H428.164C428.185 35.9093 428.356 36.5067 428.676 37.04C428.996 37.5733 429.433 38 429.988 38.32C430.564 38.6187 431.257 38.768 432.068 38.768C432.729 38.768 433.305 38.6613 433.796 38.448C434.308 38.2347 434.713 37.936 435.012 37.552C435.311 37.1467 435.46 36.6453 435.46 36.048C435.46 35.408 435.3 34.8747 434.98 34.448C434.66 34.0213 434.223 33.6587 433.668 33.36C433.113 33.04 432.473 32.7627 431.748 32.528C431.044 32.2933 430.308 32.048 429.54 31.792C427.769 31.1733 426.415 30.384 425.476 29.424C424.559 28.464 424.1 27.184 424.1 25.584C424.1 24.2613 424.42 23.1307 425.06 22.192C425.7 21.232 426.596 20.496 427.748 19.984C428.9 19.472 430.212 19.216 431.684 19.216C433.199 19.216 434.532 19.4827 435.684 20.016C436.836 20.528 437.743 21.2747 438.404 22.256C439.065 23.2373 439.417 24.3893 439.46 25.712H434.82C434.799 25.1787 434.649 24.6987 434.372 24.272C434.116 23.824 433.753 23.472 433.284 23.216C432.815 22.96 432.26 22.832 431.62 22.832C431.065 22.8107 430.553 22.896 430.084 23.088C429.636 23.2587 429.273 23.536 428.996 23.92C428.74 24.2827 428.612 24.7413 428.612 25.296C428.612 25.8293 428.74 26.2773 428.996 26.64C429.252 27.0027 429.604 27.3227 430.052 27.6C430.521 27.856 431.076 28.1013 431.716 28.336C432.356 28.5707 433.06 28.816 433.828 29.072C434.959 29.456 435.983 29.9147 436.9 30.448C437.839 30.96 438.585 31.632 439.14 32.464C439.716 33.296 440.004 34.384 440.004 35.728C440.004 36.9227 439.695 38.0213 439.076 39.024C438.479 40.0267 437.593 40.8373 436.42 41.456C435.247 42.0747 433.796 42.384 432.068 42.384ZM449.798 42.384C448.262 42.384 446.875 42.032 445.638 41.328C444.4 40.624 443.419 39.6427 442.694 38.384C441.99 37.1253 441.638 35.6853 441.638 34.064C441.638 32.4213 442 30.9813 442.726 29.744C443.451 28.4853 444.432 27.504 445.67 26.8C446.907 26.096 448.283 25.744 449.798 25.744C451.334 25.744 452.72 26.096 453.958 26.8C455.195 27.504 456.166 28.4853 456.87 29.744C457.595 30.9813 457.958 32.4213 457.958 34.064C457.958 35.7067 457.595 37.1573 456.87 38.416C456.144 39.6533 455.163 40.624 453.926 41.328C452.71 42.032 451.334 42.384 449.798 42.384ZM449.798 38.704C450.48 38.704 451.099 38.5333 451.654 38.192C452.23 37.8507 452.688 37.3387 453.03 36.656C453.392 35.952 453.574 35.088 453.574 34.064C453.574 33.04 453.392 32.1867 453.03 31.504C452.688 30.8 452.24 30.2773 451.686 29.936C451.131 29.5947 450.512 29.424 449.83 29.424C449.147 29.424 448.518 29.5947 447.942 29.936C447.366 30.2773 446.907 30.8 446.566 31.504C446.224 32.1867 446.054 33.04 446.054 34.064C446.054 35.088 446.224 35.952 446.566 36.656C446.907 37.3387 447.355 37.8507 447.91 38.192C448.486 38.5333 449.115 38.704 449.798 38.704ZM469.957 42.384C469.125 42.384 468.357 42.2667 467.653 42.032C466.971 41.8187 466.352 41.4987 465.797 41.072C465.264 40.6453 464.805 40.144 464.421 39.568H464.357L464.005 42H460.261V19.28H464.581V28.272C465.093 27.5893 465.787 27.0027 466.661 26.512C467.536 26 468.613 25.744 469.893 25.744C471.408 25.744 472.741 26.1067 473.893 26.832C475.045 27.5573 475.941 28.5493 476.581 29.808C477.243 31.0453 477.573 32.4747 477.573 34.096C477.573 35.6747 477.243 37.0933 476.581 38.352C475.941 39.6107 475.045 40.6027 473.893 41.328C472.763 42.032 471.451 42.384 469.957 42.384ZM468.837 38.736C469.691 38.736 470.437 38.5333 471.077 38.128C471.739 37.7227 472.251 37.1787 472.613 36.496C472.997 35.792 473.189 34.9813 473.189 34.064C473.189 33.1467 472.997 32.336 472.613 31.632C472.251 30.928 471.739 30.384 471.077 30C470.437 29.5947 469.691 29.392 468.837 29.392C467.984 29.392 467.227 29.5947 466.565 30C465.904 30.384 465.392 30.928 465.029 31.632C464.667 32.336 464.485 33.1467 464.485 34.064C464.485 34.9813 464.667 35.792 465.029 36.496C465.392 37.1787 465.904 37.7227 466.565 38.128C467.227 38.5333 467.984 38.736 468.837 38.736ZM479.775 42V26.128H483.551L483.935 29.36H483.999C484.426 28.464 484.917 27.7493 485.471 27.216C486.047 26.6827 486.698 26.3093 487.423 26.096C488.149 25.8613 488.959 25.744 489.855 25.744V30.32H488.671C487.967 30.32 487.327 30.3947 486.751 30.544C486.197 30.6933 485.717 30.9493 485.311 31.312C484.927 31.6533 484.629 32.112 484.415 32.688C484.202 33.264 484.095 33.9787 484.095 34.832V42H479.775ZM498.85 42.384C497.228 42.384 495.788 42.0427 494.53 41.36C493.292 40.6773 492.322 39.7173 491.618 38.48C490.914 37.2427 490.562 35.824 490.562 34.224C490.562 32.56 490.903 31.0987 491.586 29.84C492.29 28.56 493.26 27.5573 494.498 26.832C495.756 26.1067 497.218 25.744 498.882 25.744C500.46 25.744 501.847 26.0853 503.042 26.768C504.258 27.4507 505.196 28.3893 505.858 29.584C506.54 30.7573 506.882 32.0907 506.882 33.584C506.882 33.7973 506.882 34.0427 506.882 34.32C506.882 34.576 506.86 34.8427 506.818 35.12H493.634V32.464H502.498C502.434 31.4827 502.06 30.6933 501.378 30.096C500.716 29.4987 499.884 29.2 498.882 29.2C498.135 29.2 497.452 29.3707 496.834 29.712C496.215 30.032 495.724 30.5227 495.362 31.184C494.999 31.8453 494.818 32.688 494.818 33.712V34.64C494.818 35.5147 494.988 36.272 495.33 36.912C495.671 37.5307 496.14 38.0107 496.738 38.352C497.356 38.6933 498.05 38.864 498.818 38.864C499.607 38.864 500.268 38.6933 500.802 38.352C501.335 37.9893 501.74 37.5307 502.018 36.976H506.434C506.114 37.9787 505.602 38.896 504.898 39.728C504.194 40.5387 503.33 41.1893 502.306 41.68C501.282 42.1493 500.13 42.384 498.85 42.384ZM515.23 42V26.128H518.974L519.326 28.752H519.39C519.902 27.8347 520.606 27.1093 521.502 26.576C522.398 26.0213 523.497 25.744 524.798 25.744C526.121 25.744 527.241 26.032 528.158 26.608C529.076 27.1627 529.769 27.984 530.238 29.072C530.729 30.16 530.974 31.504 530.974 33.104V42H526.686V33.488C526.686 32.1653 526.42 31.152 525.886 30.448C525.353 29.744 524.5 29.392 523.326 29.392C522.601 29.392 521.95 29.5733 521.374 29.936C520.82 30.2773 520.372 30.7787 520.03 31.44C519.71 32.08 519.55 32.8693 519.55 33.808V42H515.23ZM541.145 42.384C539.609 42.384 538.223 42.032 536.985 41.328C535.748 40.624 534.767 39.6427 534.041 38.384C533.337 37.1253 532.985 35.6853 532.985 34.064C532.985 32.4213 533.348 30.9813 534.073 29.744C534.799 28.4853 535.78 27.504 537.017 26.8C538.255 26.096 539.631 25.744 541.145 25.744C542.681 25.744 544.068 26.096 545.305 26.8C546.543 27.504 547.513 28.4853 548.217 29.744C548.943 30.9813 549.305 32.4213 549.305 34.064C549.305 35.7067 548.943 37.1573 548.217 38.416C547.492 39.6533 546.511 40.624 545.273 41.328C544.057 42.032 542.681 42.384 541.145 42.384ZM541.145 38.704C541.828 38.704 542.447 38.5333 543.001 38.192C543.577 37.8507 544.036 37.3387 544.377 36.656C544.74 35.952 544.921 35.088 544.921 34.064C544.921 33.04 544.74 32.1867 544.377 31.504C544.036 30.8 543.588 30.2773 543.033 29.936C542.479 29.5947 541.86 29.424 541.177 29.424C540.495 29.424 539.865 29.5947 539.289 29.936C538.713 30.2773 538.255 30.8 537.913 31.504C537.572 32.1867 537.401 33.04 537.401 34.064C537.401 35.088 537.572 35.952 537.913 36.656C538.255 37.3387 538.703 37.8507 539.257 38.192C539.833 38.5333 540.463 38.704 541.145 38.704ZM537.497 24.752V21.584L544.729 17.872H544.793V21.296L537.497 24.752ZM558.169 42.384C556.761 42.384 555.513 42.1493 554.425 41.68C553.337 41.2107 552.473 40.5707 551.833 39.76C551.193 38.928 550.809 37.9893 550.681 36.944H555.001C555.107 37.328 555.289 37.6907 555.545 38.032C555.801 38.352 556.142 38.6187 556.569 38.832C557.017 39.024 557.529 39.12 558.105 39.12C558.681 39.12 559.15 39.0453 559.513 38.896C559.875 38.7253 560.142 38.512 560.313 38.256C560.505 37.9787 560.601 37.7013 560.601 37.424C560.601 36.9973 560.462 36.6773 560.185 36.464C559.929 36.2293 559.545 36.0373 559.033 35.888C558.542 35.7173 557.955 35.5467 557.273 35.376C556.59 35.2053 555.886 35.0133 555.161 34.8C554.457 34.5867 553.806 34.32 553.209 34C552.611 33.6587 552.131 33.232 551.769 32.72C551.406 32.1867 551.225 31.5253 551.225 30.736C551.225 29.8187 551.481 28.9867 551.993 28.24C552.505 27.472 553.241 26.864 554.201 26.416C555.182 25.968 556.355 25.744 557.721 25.744C559.619 25.744 561.134 26.1813 562.265 27.056C563.417 27.9307 564.089 29.136 564.281 30.672H560.217C560.11 30.16 559.833 29.7653 559.385 29.488C558.958 29.1893 558.393 29.04 557.689 29.04C556.963 29.04 556.398 29.1787 555.993 29.456C555.609 29.7333 555.417 30.0747 555.417 30.48C555.417 30.7787 555.545 31.0347 555.801 31.248C556.078 31.4613 556.462 31.6427 556.953 31.792C557.443 31.9413 558.03 32.112 558.713 32.304C559.865 32.5813 560.899 32.8907 561.817 33.232C562.755 33.552 563.502 34.0107 564.057 34.608C564.611 35.184 564.889 36.0267 564.889 37.136C564.91 38.1387 564.643 39.0347 564.089 39.824C563.555 40.6133 562.777 41.2427 561.753 41.712C560.75 42.16 559.555 42.384 558.169 42.384Z"
                  fill="#5A5A5A"
                  className={isActive("/sobre-nos") ? styles.activePath : ""}
                />
              </Link>

              {/* Contato */}
              <Link to="/Contato" onClick={() => setIsMenuOpen(false)}>
                <path
                  d="M678.91 42.384C676.67 42.384 674.729 41.904 673.086 40.944C671.465 39.9627 670.217 38.608 669.342 36.88C668.467 35.1307 668.03 33.1147 668.03 30.832C668.03 28.5493 668.467 26.5333 669.342 24.784C670.217 23.0347 671.465 21.6693 673.086 20.688C674.707 19.7067 676.649 19.216 678.91 19.216C681.641 19.216 683.87 19.888 685.598 21.232C687.326 22.576 688.403 24.4747 688.83 26.928H684.094C683.817 25.7333 683.241 24.8053 682.366 24.144C681.491 23.4613 680.329 23.12 678.878 23.12C677.534 23.12 676.371 23.44 675.39 24.08C674.43 24.6987 673.694 25.584 673.182 26.736C672.67 27.888 672.414 29.2533 672.414 30.832C672.414 32.4107 672.67 33.776 673.182 34.928C673.694 36.0587 674.43 36.9333 675.39 37.552C676.371 38.1707 677.534 38.48 678.878 38.48C680.329 38.48 681.491 38.1707 682.366 37.552C683.241 36.9333 683.817 36.0587 684.094 34.928H688.83C688.425 37.2533 687.347 39.0773 685.598 40.4C683.87 41.7227 681.641 42.384 678.91 42.384ZM698.829 42.384C697.293 42.384 695.906 42.032 694.669 41.328C693.432 40.624 692.45 39.6427 691.725 38.384C691.021 37.1253 690.669 35.6853 690.669 34.064C690.669 32.4213 691.032 30.9813 691.757 29.744C692.482 28.4853 693.464 27.504 694.701 26.8C695.938 26.096 697.314 25.744 698.829 25.744C700.365 25.744 701.752 26.096 702.989 26.8C704.226 27.504 705.197 28.4853 705.901 29.744C706.626 30.9813 706.989 32.4213 706.989 34.064C706.989 35.7067 706.626 37.1573 705.901 38.416C705.176 39.6533 704.194 40.624 702.957 41.328C701.741 42.032 700.365 42.384 698.829 42.384ZM698.829 38.704C699.512 38.704 700.13 38.5333 700.685 38.192C701.261 37.8507 701.72 37.3387 702.061 36.656C702.424 35.952 702.605 35.088 702.605 34.064C702.605 33.04 702.424 32.1867 702.061 31.504C701.72 30.8 701.272 30.2773 700.717 29.936C700.162 29.5947 699.544 29.424 698.861 29.424C698.178 29.424 697.549 29.5947 696.973 29.936C696.397 30.2773 695.938 30.8 695.597 31.504C695.256 32.1867 695.085 33.04 695.085 34.064C695.085 35.088 695.256 35.952 695.597 36.656C695.938 37.3387 696.386 37.8507 696.941 38.192C697.517 38.5333 698.146 38.704 698.829 38.704ZM709.197 42V26.128H712.941L713.293 28.752H713.357C713.869 27.8347 714.573 27.1093 715.469 26.576C716.365 26.0213 717.463 25.744 718.765 25.744C720.087 25.744 721.207 26.032 722.125 26.608C723.042 27.1627 723.735 27.984 724.205 29.072C724.695 30.16 724.941 31.504 724.941 33.104V42H720.653V33.488C720.653 32.1653 720.386 31.152 719.853 30.448C719.319 29.744 718.466 29.392 717.293 29.392C716.567 29.392 715.917 29.5733 715.341 29.936C714.786 30.2773 714.338 30.7787 713.997 31.44C713.677 32.08 713.517 32.8693 713.517 33.808V42H709.197ZM734.664 42C733.533 42 732.541 41.8293 731.688 41.488C730.856 41.1253 730.205 40.5387 729.736 39.728C729.266 38.896 729.032 37.7653 729.032 36.336V29.648H726.312V26.128H729.032L729.512 21.808H733.352V26.128H737.576V29.648H733.352V36.4C733.352 37.1467 733.512 37.6693 733.832 37.968C734.152 38.2453 734.696 38.384 735.464 38.384H737.48V42H734.664ZM744.729 42.384C743.428 42.384 742.351 42.1707 741.497 41.744C740.644 41.3173 740.015 40.7413 739.609 40.016C739.204 39.2907 739.001 38.4907 739.001 37.616C739.001 36.6347 739.247 35.7707 739.737 35.024C740.249 34.2773 741.017 33.7013 742.041 33.296C743.065 32.8693 744.356 32.656 745.913 32.656H749.913C749.913 31.8667 749.796 31.2267 749.561 30.736C749.348 30.224 749.007 29.84 748.537 29.584C748.089 29.328 747.513 29.2 746.809 29.2C745.977 29.2 745.263 29.392 744.665 29.776C744.089 30.1387 743.727 30.704 743.577 31.472H739.385C739.513 30.2987 739.897 29.2853 740.537 28.432C741.199 27.5787 742.073 26.9173 743.161 26.448C744.249 25.9787 745.465 25.744 746.809 25.744C748.345 25.744 749.668 26 750.777 26.512C751.887 27.0027 752.74 27.7387 753.337 28.72C753.935 29.68 754.233 30.8533 754.233 32.24V42H750.617L750.137 39.536H750.073C749.796 39.984 749.476 40.3893 749.113 40.752C748.751 41.0933 748.345 41.392 747.897 41.648C747.471 41.8827 746.991 42.064 746.457 42.192C745.924 42.32 745.348 42.384 744.729 42.384ZM745.945 39.056C746.521 39.056 747.033 38.96 747.481 38.768C747.929 38.5547 748.303 38.2773 748.601 37.936C748.921 37.5947 749.167 37.2 749.337 36.752C749.529 36.2827 749.657 35.8027 749.721 35.312H746.393C745.732 35.312 745.188 35.3973 744.761 35.568C744.356 35.7173 744.057 35.9413 743.865 36.24C743.673 36.5173 743.577 36.848 743.577 37.232C743.577 37.616 743.673 37.9467 743.865 38.224C744.057 38.5013 744.335 38.7147 744.697 38.864C745.06 38.992 745.476 39.056 745.945 39.056ZM763.759 42C762.628 42 761.636 41.8293 760.783 41.488C759.951 41.1253 759.3 40.5387 758.831 39.728C758.361 38.896 758.127 37.7653 758.127 36.336V29.648H755.407V26.128H758.127L758.607 21.808H762.447V26.128H766.671V29.648H762.447V36.4C762.447 37.1467 762.607 37.6693 762.927 37.968C763.247 38.2453 763.791 38.384 764.559 38.384H766.575V42H763.759ZM775.754 42.384C774.218 42.384 772.831 42.032 771.594 41.328C770.357 40.624 769.375 39.6427 768.65 38.384C767.946 37.1253 767.594 35.6853 767.594 34.064C767.594 32.4213 767.957 30.9813 768.682 29.744C769.407 28.4853 770.389 27.504 771.626 26.8C772.863 26.096 774.239 25.744 775.754 25.744C777.29 25.744 778.677 26.096 779.914 26.8C781.151 27.504 782.122 28.4853 782.826 29.744C783.551 30.9813 783.914 32.4213 783.914 34.064C783.914 35.7067 783.551 37.1573 782.826 38.416C782.101 39.6533 781.119 40.624 779.882 41.328C778.666 42.032 777.29 42.384 775.754 42.384ZM775.754 38.704C776.437 38.704 777.055 38.5333 777.61 38.192C778.186 37.8507 778.645 37.3387 778.986 36.656C779.349 35.952 779.53 35.088 779.53 34.064C779.53 33.04 779.349 32.1867 778.986 31.504C778.645 30.8 778.197 30.2773 777.642 29.936C777.087 29.5947 776.469 29.424 775.786 29.424C775.103 29.424 774.474 29.5947 773.898 29.936C773.322 30.2773 772.863 30.8 772.522 31.504C772.181 32.1867 772.01 33.04 772.01 34.064C772.01 35.088 772.181 35.952 772.522 36.656C772.863 37.3387 773.311 37.8507 773.866 38.192C774.442 38.5333 775.071 38.704 775.754 38.704Z"
                  fill="#5A5A5A"
                  className={isActive("/Contato") ? styles.activePath : ""}
                />
              </Link>
            </svg>

            {/* Lista de links (texto) apenas para Mobile */}
            <ul className={styles.mobileList}>
              <li>
                <Link
                  to="/"
                  className={isActive("/") ? styles.active : ""}
                  onClick={() => setIsMenuOpen(false)}
                >
                  Início
                </Link>
              </li>
              <li>
                <Link
                  to="/acervo"
                  className={isActive("/acervo") ? styles.active : ""}
                  onClick={() => setIsMenuOpen(false)}
                >
                  Acervo
                </Link>
              </li>
              <li>
                <Link
                  to="/sobre-nos"
                  className={isActive("/sobre-nos") ? styles.active : ""}
                  onClick={() => setIsMenuOpen(false)}
                >
                  Sobre nós
                </Link>
              </li>
              <li>
                <Link
                  to="/Contato"
                  className={isActive("/Contato") ? styles.active : ""}
                  onClick={() => setIsMenuOpen(false)}
                >
                  Contato
                </Link>
              </li>
            </ul>

            {/* Botão Sair */}
            <button
              className={styles.logoutButton}
              onClick={handleLogout}
              aria-label="Sair"
            >
              <svg
                className={styles.logoutIcon}
                width="26"
                height="26"
                viewBox="0 0 26 26"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M18.5 12C18.5 13.0878 18.1774 14.1512 17.5731 15.0556C16.9687 15.9601 16.1098 16.6651 15.1048 17.0813C14.0998 17.4976 12.9939 17.6065 11.927 17.3943C10.8601 17.1821 9.88011 16.6583 9.11092 15.8891C8.34173 15.1199 7.8179 14.1399 7.60569 13.073C7.39347 12.0061 7.50239 10.9002 7.91867 9.89524C8.33495 8.89025 9.0399 8.03126 9.94437 7.42692C10.8488 6.82257 11.9122 6.5 13 6.5C14.4582 6.50165 15.8562 7.08165 16.8873 8.11274C17.9184 9.14383 18.4984 10.5418 18.5 12ZM26 13C26 15.5712 25.2376 18.0846 23.8091 20.2224C22.3806 22.3602 20.3503 24.0265 17.9749 25.0104C15.5994 25.9944 12.9856 26.2518 10.4638 25.7502C7.94208 25.2486 5.6257 24.0105 3.80762 22.1924C1.98953 20.3743 0.751405 18.0579 0.249797 15.5362C-0.251811 13.0144 0.0056327 10.4006 0.989572 8.02511C1.97351 5.64967 3.63975 3.61935 5.77759 2.19089C7.91543 0.762437 10.4288 0 13 0C16.4467 0.00363977 19.7512 1.37445 22.1884 3.81163C24.6256 6.24882 25.9964 9.5533 26 13ZM24 13C23.9984 11.5194 23.6982 10.0544 23.1174 8.69245C22.5366 7.33054 21.6871 6.09974 20.6198 5.07367C19.5524 4.04759 18.289 3.24732 16.9053 2.7207C15.5215 2.19408 14.0457 1.95194 12.5663 2.00875C6.67875 2.23625 1.98376 7.14 2.00001 13.0312C2.00565 15.7132 2.99478 18.2998 4.78001 20.3012C5.50703 19.2468 6.43055 18.3423 7.5 17.6375C7.59119 17.5773 7.69958 17.5486 7.80862 17.5558C7.91765 17.563 8.02132 17.6058 8.10375 17.6775C9.46273 18.8529 11.1995 19.4998 12.9963 19.4998C14.793 19.4998 16.5298 18.8529 17.8888 17.6775C17.9712 17.6058 18.0749 17.563 18.1839 17.5558C18.2929 17.5486 18.4013 17.5773 18.4925 17.6375C19.5633 18.342 20.4881 19.2464 21.2163 20.3012C23.0103 18.2925 24.0013 15.6932 24 13Z"
                  fill="currentColor"
                />
              </svg>
              <span className={styles.logoutText}>Sair</span>
            </button>
          </div>

          {/* Overlay para o menu mobile */}
          {isMenuOpen && (
            <div
              className={styles.backdrop}
              onClick={() => setIsMenuOpen(false)}
              aria-hidden
            />
          )}
        </div>
      </div>
    </nav>
  );
}
