import { useState } from "react";
import { Link, useLocation } from "react-router-dom";
import styles from "./Navbar.module.css";

export default function Navbar() {
  const [isMenuOpen, setIsMenuOpen] = useState(false);
  const location = useLocation();

  const toggleMenu = () => {
    setIsMenuOpen(!isMenuOpen);
  };

  const isActive = (path: string) => {
    return location.pathname === path;
  };

  return (
    <nav className={styles.navbar}>
      <div className={styles.container}>
        <div className={styles.navbarContent}>
          {/* Logo Desktop */}
          <Link to="/" className={styles.logoDesktop}>
            <svg
              width="72"
              height="72"
              viewBox="0 0 72 72"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g clipPath="url(#clip0_1126_2188)">
                <rect
                  width="72"
                  height="72"
                  rx="36"
                  fill="black"
                  fillOpacity="0.01"
                />
                <path
                  d="M118.823 -75C118.823 -75 141.61 -7.75258 99.6504 54.8027C111.594 87.8911 114.895 120.486 114.188 144.685C114.188 144.849 114.108 145.179 114.108 145.179H114.188L112.145 170.365L66.1768 162.875C66.1933 162.801 76.0649 118.73 60.5986 85.916C57.7699 87.8091 44.6469 89.7843 41.3467 90.0312C31.2892 90.8542 21.5459 89.1261 12.667 85.5869V161.312H-30V-67.0977H12.667V-28.4951C36.7898 -32.5281 63.3487 -14.7489 77.8066 9.20312C91.4558 -32.0465 79.0274 -66.9797 78.9854 -67.0977L118.823 -75ZM37.0801 -7.52441C16.1403 -7.52439 -0.834961 9.45081 -0.834961 30.3906V34.3047C-0.83474 55.2443 16.1404 72.2187 37.0801 72.2188C58.0198 72.2188 74.9949 55.2443 74.9951 34.3047V30.3906C74.9951 9.4508 58.0199 -7.52441 37.0801 -7.52441ZM18.874 15.9521C33.1749 8.46198 55.2552 32.5791 59.9697 50.1934C52.1121 53.1565 26.9679 49.617 18.7959 43.6084C11.2526 38.0937 6.93053 22.29 18.874 15.9521Z"
                  fill="#5A5A5A"
                />
              </g>
              <defs>
                <clipPath id="clip0_1126_2188">
                  <rect width="72" height="72" rx="36" fill="white" />
                </clipPath>
              </defs>
            </svg>
          </Link>

          {/* Logo Mobile */}
          <Link to="/" className={styles.logoMobile}>
            <svg
              width="361"
              height="60"
              viewBox="0 0 361 60"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g clipPath="url(#clip0_537_3384)">
                <rect
                  y="3"
                  width="54"
                  height="54"
                  rx="27"
                  fill="black"
                  fillOpacity="0.01"
                />
                <path
                  d="M95.0186 -55C95.0186 -55 113.395 -3.42984 79.5566 44.542C89.1885 69.9165 91.8506 94.9122 91.2803 113.47C91.2803 113.596 91.2171 113.847 91.2168 113.849H91.2803L89.6328 133.163L52.5625 127.42C52.5625 127.42 60.5469 93.5866 48.0635 68.4014C45.7823 69.8531 35.1998 71.3682 32.5381 71.5576C24.427 72.1888 16.5688 70.8636 9.4082 68.1494V126.221H-25V-48.9404H9.4082V-19.3359C28.8621 -22.4289 50.2807 -8.79492 61.9404 9.57324C72.9664 -22.1134 62.8916 -48.9404 62.8916 -48.9404L95.0186 -55ZM29.0967 -3.25488C12.21 -3.2548 -1.47923 10.4346 -1.47949 27.3213C-1.47949 44.2082 12.2098 57.8984 29.0967 57.8984C45.9836 57.8984 59.6738 44.2082 59.6738 27.3213C59.6736 10.4346 45.9835 -3.25488 29.0967 -3.25488ZM14.415 14.749C25.9479 9.00539 43.7534 27.4991 47.5557 41.0068C41.2185 43.279 20.9417 40.5648 14.3516 35.957C8.26829 31.7279 4.78316 19.6093 14.415 14.749Z"
                  fill="#A3A3A2"
                />
              </g>
              <rect
                x="70"
                width="291"
                height="60"
                rx="30"
                fill="black"
                fillOpacity="0.01"
              />
              <g clipPath="url(#clip1_537_3384)">
                <path
                  d="M260.492 10L253.663 11.2882C253.663 11.2882 255.804 16.9909 253.46 23.7269C250.982 19.8222 246.429 16.9239 242.293 17.5813V11.2882H234.979V48.524H242.293V36.1791C243.815 36.7561 245.486 37.0379 247.21 36.9037C247.776 36.8635 250.025 36.5414 250.51 36.2328C253.164 41.5867 251.467 48.7789 251.467 48.7789L259.347 50L259.697 45.894H259.684C259.684 45.894 259.697 45.8403 259.697 45.8135C259.819 41.8685 259.253 36.5548 257.205 31.1607C264.399 20.9628 260.492 10 260.492 10ZM243.344 29.3358C242.051 28.4368 241.31 25.8604 243.357 24.8272C245.809 23.6062 249.594 27.5377 250.403 30.4093C249.056 30.8923 244.745 30.3153 243.344 29.3358Z"
                  fill="#A3A3A2"
                />
                <path
                  d="M180.704 11.2211V22.6535C199.913 8.12144 201.934 37.2258 198.903 50.0134L191.629 48.7924C192.451 43.8678 193.272 32.1268 190.295 28.5039C185.971 23.2305 180.691 30.5434 180.691 34.5019V48.7924H173.309V11.2211H180.691H180.704Z"
                  fill="#A3A3A2"
                />
                <path
                  d="M287.999 50L287.972 45.156L287.016 25.4847C286.962 24.5991 286.8 23.7135 286.45 22.895C285.318 20.265 283.338 19.6478 282.368 19.2586C277.99 17.4874 274.286 18.95 269.988 20.0369L271.632 26.1691C273.599 25.1761 273.962 25.0285 275.134 24.7065H275.175C277.465 24.0758 279.836 25.5116 280.267 27.8464C280.267 27.8598 280.267 27.8866 280.28 27.9C271.053 29.2687 258.242 33.7907 262.647 44.0154C265.651 51.0064 276.198 50.4026 280.199 44.5387C280.186 45.0084 280.186 45.4244 280.213 45.7867L280.159 48.7789L287.999 50ZM279.122 36.9171C273.154 50.0134 265.745 40.4864 277.775 35.0252C278.515 34.6763 279.297 34.4616 280.038 34.2469C279.836 35.1459 279.526 36.0315 279.122 36.9171Z"
                  fill="#A3A3A2"
                />
                <path
                  d="M171.747 12.8447V19.3794H161.913V48.7789H153.709C154.14 38.9165 154.868 29.2419 153.709 19.3794L142.986 19.3257V12.8447H171.733H171.747Z"
                  fill="#A3A3A2"
                />
                <path
                  d="M230.587 40.6743C228.391 42.2576 225.859 42.5797 225.859 42.5797C219.986 43.4519 211.391 44.3777 212.482 35.6692C215.648 36.5683 218.329 36.9708 220.605 36.9708C231.786 36.9708 232.729 27.4304 229.644 22.9487C224.094 14.8709 210.192 20.52 206.542 28.638L201.49 27.3231L202.325 33.2003L205.073 33.9785C204.925 35.1057 204.898 36.2865 204.966 37.5076C205.68 49.1815 222.154 51.3687 230.87 48.1214C231.369 47.9336 231.153 48.0275 231.328 47.9336C231.342 47.9336 231.705 47.7726 231.719 47.7591L233.537 46.8601L230.587 40.6743ZM218.571 26.3838C220.727 24.5052 224.579 23.0963 225.455 24.9078C225.697 25.4042 225.886 26.1154 225.064 27.2694C224.31 28.4368 221.67 30.0201 217.938 30.3824C216.726 30.5032 216.039 30.5032 214.692 30.3824C215.971 28.477 216.726 27.994 218.571 26.3838Z"
                  fill="#A3A3A2"
                />
              </g>
              <defs>
                <clipPath id="clip0_537_3384">
                  <rect y="3" width="54" height="54" rx="27" fill="white" />
                </clipPath>
                <clipPath id="clip1_537_3384">
                  <rect
                    width="145"
                    height="40"
                    fill="white"
                    transform="translate(143 10)"
                  />
                </clipPath>
              </defs>
            </svg>
          </Link>

          {/* Hamburger Menu (Mobile) */}
          <button
            className={styles.hamburger}
            onClick={toggleMenu}
            aria-label="Menu"
          >
            <span className={isMenuOpen ? styles.open : ""}></span>
            <span className={isMenuOpen ? styles.open : ""}></span>
            <span className={isMenuOpen ? styles.open : ""}></span>
          </button>

          {/* Navigation Links */}
          <div
            className={`${styles.navLinks} ${
              isMenuOpen ? styles.navLinksOpen : ""
            }`}
          >
            <Link
              to="/"
              className={isActive("/") ? styles.active : ""}
              onClick={() => setIsMenuOpen(false)}
            >
              Início
            </Link>
            <Link
              to="/acervo"
              className={isActive("/acervo") ? styles.active : ""}
              onClick={() => setIsMenuOpen(false)}
            >
              Acervo
            </Link>
            <Link
              to="/sobre-nos"
              className={isActive("/sobre-nos") ? styles.active : ""}
              onClick={() => setIsMenuOpen(false)}
            >
              Sobre nós
            </Link>
            <Link
              to="/Contato"
              className={isActive("/Contato") ? styles.active : ""}
              onClick={() => setIsMenuOpen(false)}
            >
              Contato
            </Link>
          </div>
        </div>
      </div>
    </nav>
  );
}
